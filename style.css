:root{
  --bg:#f7f9fc; --text:#0b1220; --muted:#5f6b7a; --accent:#0b8fff;
  --panel:#ffffff; --border:#e6ecf2;
  /* Estado (legend/badges) ajustado al tema claro */
  --status-pending:#F59E0B; /* amber */
  --status-done:#0b8fff;    /* accent blue */
  --yellow:#E7B400; --green:#0e7a2b; --greenStroke:#0a4a12; /* legacy */
}
html,body{height:100%;margin:0;background:var(--bg);color:var(--text);font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;}
.wrap{height:100%; position:relative;}
.map{position:relative; height:100%;}
#map{height:100%;}
#three-overlay{position:absolute; inset:0; pointer-events:none; z-index:1300}

/* Uber-like minimal overlay UI */
.field{display:flex; gap:6px; align-items:center}
.field input[type="date"], .field select, .field button{
  height:32px; padding:0 10px; border-radius:10px; border:1px solid var(--border);
  background:#ffffff; color:var(--text);
}
.btn{cursor:pointer; font-weight:600; background:#ffffff;}
.btn:hover{outline:1px solid #1a90ff}
.hud{font-size:11px; color:var(--muted); margin-left:auto; padding:0 6px}

/* Asegura que si hay controles Leaflet en top-left, bajen un poco (fallback) */
.leaflet-top.leaflet-left { top: 64px; }

.ui-card{
  position:absolute; right:14px; z-index:1100; padding:10px;
  background:rgba(255,255,255,0.9); border:1px solid var(--border);
  border-radius:14px; backdrop-filter: blur(6px);
  box-shadow: 0 4px 24px rgba(12,18,30,.06);
}
.ui-card.small{ top:70px; }
.ui-card.below{ top:140px; }
.inline{display:flex; gap:8px; align-items:center}
.legend{display:flex; gap:10px; align-items:center;}
.dot{width:10px;height:10px;border-radius:50%}
.dot.yellow{background:var(--status-pending); box-shadow:0 0 0 2px rgba(245,158,11,.35) inset}
.dot.green{background:var(--status-done); box-shadow:0 0 0 2px rgba(11,143,255,.35) inset}

  /* NUEVO: m√°scara de carga sobre el mapa */
.loading-mask{
  position:absolute; inset:0; display:none; place-items:center; z-index:1200;
  background:rgba(255,255,255,.6); backdrop-filter:blur(0.8rem);
}
.loading-mask.show{ display:grid; }
.loading-msg{
  padding:10px 14px; border-radius:12px; background:#ffffff; border:1px solid var(--border);
  color:var(--text); font-weight:600; letter-spacing:.2px;
}

/* === Basemap switcher compacto === */
.basemap-grid{ display:flex; gap:8px; }
.basemap-card{ text-align:center; cursor:pointer; user-select:none; width:72px; }
.basemap-card .bm-thumb{
  width:100%; aspect-ratio:1/1; border-radius:12px; background-size:cover; background-position:center;
  border:1px solid var(--border); box-shadow:inset 0 0 10px rgba(0,0,0,.2);
}
.basemap-card .bm-title{ margin-top:4px; font-size:11px; color:var(--muted); }
.basemap-card.active .bm-thumb{ outline:2px solid #1a90ff; outline-offset:2px; }

/* Fuerza el switcher abajo-izquierda */
.map .ui-card.bl{
  left: 14px !important;
  bottom: 14px !important;
  right: auto !important;
  top: auto !important;
}
